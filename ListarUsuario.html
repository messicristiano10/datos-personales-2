<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Listar Usuarios</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { padding: 10px; border-bottom: 1px solid #ccc; }
    th { background: #f0f0f0; }

    .acciones button {
      background: none; border: none; cursor: pointer;
      font-size: 18px; margin-right: 10px;
    }

    #formulario {
      margin-top: 20px;
      padding: 15px;
      border: 1px solid #aaa;
      width: 300px;
      display: none;
    }

    #formulario input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }

    #nuevoUsuarioBtn {
      margin-top: 20px;
      padding: 10px 15px;
      cursor: pointer;
      background: #4caf50;
      border: none;
      color: white;
      border-radius: 5px;
    }
  </style>
</head>
<body>

<h1>Lista de Usuarios</h1>

<button id="nuevoUsuarioBtn">➕ Agregar Amigo</button>

<table>
  <thead>
    <tr>
      <th>Nombre</th>
      <th>Email</th>
      <th>Teléfono</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody id="tablaUsuarios">
  </tbody>
</table>

<!-- FORMULARIO EDITAR / AGREGAR -->
<div id="formulario">
  <h3 id="formTitulo">Editar Usuario</h3>
  <input type="text" id="nombre" placeholder="Nombre">
  <input type="email" id="email" placeholder="Email">
  <input type="text" id="telefono" placeholder="Teléfono">
  <button onclick="guardarCambios()">Guardar</button>
</div>

<script>
let usuarios = [
  { nombre: "Lucho Fernández", email: "lucho@example.com", telefono: "+54 11 5555-1111" },
  { nombre: "Joaco Martínez", email: "joaco@example.com", telefono: "+54 11 4444-2222" },
  { nombre: "Juan Pérez", email: "juanperez@example.com", telefono: "+54 11 1234-5678" },
];

let editando = -1; // índice del usuario que se está editando

// Mostrar usuarios en la tabla
function render() {
  const tabla = document.getElementById("tablaUsuarios");
  tabla.innerHTML = "";

  usuarios.forEach((u, i) => {
    tabla.innerHTML += `
      <tr>
        <td>${u.nombre}</td>
        <td>${u.email}</td>
        <td>${u.telefono}</td>
        <td class="acciones">
          <button onclick="editar(${i})">✏️</button>
          <button onclick="agregarAmigo()">➕</button>
        </td>
      </tr>
    `;
  });
}

function editar(i) {
  editando = i;
  document.getElementById("formTitulo").innerText = "Editar Usuario";
  document.getElementById("nombre").value = usuarios[i].nombre;
  document.getElementById("email").value = usuarios[i].email;
  document.getElementById("telefono").value = usuarios[i].telefono;
  document.getElementById("formulario").style.display = "block";
}

function agregarAmigo() {
  editando = -1;
  document.getElementById("formTitulo").innerText = "Agregar Amigo";
  document.getElementById("nombre").value = "";
  document.getElementById("email").value = "";
  document.getElementById("telefono").value = "";
  document.getElementById("formulario").style.display = "block";
}

function guardarCambios() {
  let nombre = document.getElementById("nombre").value;
  let email = document.getElementById("email").value;
  let telefono = document.getElementById("telefono").value;

  if (editando === -1) {
    usuarios.push({ nombre, email, telefono });  // agregar nuevo
  } else {
    usuarios[editando] = { nombre, email, telefono }; // editar existente
  }

  document.getElementById("formulario").style.display = "none";
  render();
}

// Inicializar tabla
render();
</script>

</body>
</html>
